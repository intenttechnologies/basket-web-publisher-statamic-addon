function b(s,t,a,c,i,e,n,_){var d=typeof s=="function"?s.options:s;t&&(d.render=t,d.staticRenderFns=a,d._compiled=!0),c&&(d.functional=!0),e&&(d._scopeId="data-v-"+e);var r;if(n?(r=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__<"u"&&(o=__VUE_SSR_CONTEXT__),i&&i.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(n)},d._ssrRegister=r):i&&(r=_?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),r)if(d.functional){d._injectStyles=r;var u=d.render;d.render=function(v,f){return r.call(f),u(v,f)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,r):[r]}return{exports:s,options:d}}const p={props:["value"],mixins:[Fieldtype],data(){var s;return{enabled:!!((s=this.value)!=null&&s.enabled)}},mounted(){var s;this.update({enabled:this.enabled,links:((s=this.value)==null?void 0:s.links)||[]})},methods:{toggle(){var s;this.enabled=!this.enabled,this.update({enabled:this.enabled,links:(s=this.value)==null?void 0:s.links})},save(){var s;this.update({enabled:this.enabled,links:(s=this.value)==null?void 0:s.links})}}},h=Object.assign(p,{__name:"AddToBasket",setup(s){return{__sfc:!0}}});var g=function(){var c,i;var t=this,a=t._self._c;return t._self._setupProxy,a("div",{staticClass:"bg-gray-100 p-4 rounded-xl"},[a("div",{staticClass:"mb-4"},[a("label",{staticClass:"mb-2"},[t._v("Enabled "),a("input",{staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:t.enabled},on:{change:t.toggle}})]),t.enabled?t._e():a("div",{staticClass:"mt-2 text-gray-700 text-sm"},[t._v(" Add to Basket button will not be visible on the public website and products will not be parsed from the page copy. ")])]),t.enabled?a("div",[(c=t.value)!=null&&c.links&&t.value.links.length>0?a("div",[a("p",{staticClass:"text-sm mb-2"},[t._v(" The following products have been found in the page copy (updated on save): ")]),a("div",{staticClass:"bg-white rounded-xl atb-border overflow-hidden flex flex-wrap"},t._l((i=t.value)==null?void 0:i.links,function(e){var n,_,d,r,u,l;return a("div",{staticClass:"atb-link-item text-sm flex p-3 atb-border relative"},[a("div",{staticClass:"atb-image-container shrink-0 rounded-xl overflow-hidden mr-4"},[a("img",{staticClass:"atb-image",attrs:{src:((n=e==null?void 0:e.image)==null?void 0:n.retailerUrl)||((_=e==null?void 0:e.image)==null?void 0:_.cdnUrl)}})]),a("div",{staticClass:"atb-content grow min-w-0 flex flex-col"},[e.status==="fetching"?a("div",{staticClass:"text-gray-700 atb-f-13 bg-gray-300 rounded-md w-15 mb-1"},[t._v("   ")]):a("h4",{staticClass:"atb-title truncate font-semibold"},[a("span",{staticClass:"truncate"},[t._v(t._s(e.status==="fetching"?"...":(e==null?void 0:e.title)||"No title found"))])]),e.status==="fetching"?a("div",{staticClass:"text-gray-700 atb-f-13 bg-gray-300 rounded-md w-10"},[t._v("   ")]):a("div",{staticClass:"text-gray-700 atb-f-13"},[t._v(" "+t._s(e==null?void 0:e.currencySymbol)+t._s(((d=e==null?void 0:e.price)==null?void 0:d.toFixed(2))||"No price found")+" ")]),a("div",{staticClass:"flex grow text-gray-700 items-end"},[a("div",{staticClass:"flex grow"},[a("img",{staticClass:"atb-favicon mr-2",attrs:{src:(r=e==null?void 0:e.retailer)==null?void 0:r.faviconUrl}}),a("div",{staticClass:"atb-f-12 flex flex-col justify-center"},[a("p",[t._v(" "+t._s((l=(u=e==null?void 0:e.retailer)==null?void 0:u.tld)==null?void 0:l.replace("www.",""))+" ")]),e.status==="fetching"?a("div",{staticClass:"atb-adding mt-1"},[t._v(" ADDING ")]):t._e()])]),a("a",{staticClass:"atb-button bg-gray-300 rounded-full px-3 py-1 text-blue font-semibold",attrs:{href:e==null?void 0:e.url,target:"_blank"}},[t._v("Visit")])])])])}),0)]):a("div",[a("p",{staticClass:"text-sm mb-2"},[t._v(" No products added. Products will be added when the page is saved. ")])])]):t._e()])},m=[],C=b(h,g,m,!1,null,"9605774a",null,null);const y=C.exports;Statamic.$components.register("add_to_basket-fieldtype",y);
