function b(d,t,e,l,o,s,n,c){var a=typeof d=="function"?d.options:d;t&&(a.render=t,a.staticRenderFns=e,a._compiled=!0),l&&(a.functional=!0),s&&(a._scopeId="data-v-"+s);var i;if(n?(i=function(r){r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!r&&typeof __VUE_SSR_CONTEXT__<"u"&&(r=__VUE_SSR_CONTEXT__),o&&o.call(this,r),r&&r._registeredComponents&&r._registeredComponents.add(n)},a._ssrRegister=i):o&&(i=c?function(){o.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:o),i)if(a.functional){a._injectStyles=i;var _=a.render;a.render=function(v,f){return i.call(f),_(v,f)}}else{var u=a.beforeCreate;a.beforeCreate=u?[].concat(u,i):[i]}return{exports:d,options:a}}const p={props:["value"],mixins:[Fieldtype],data(){var t,e;return{enabled:((t=this.value)==null?void 0:t.enabled)===void 0?!0:(e=this.value)==null?void 0:e.enabled}},mounted(){var d;this.update({enabled:this.enabled,links:((d=this.value)==null?void 0:d.links)||[]})},methods:{toggle(){var d;this.enabled=!this.enabled,this.update({enabled:this.enabled,links:(d=this.value)==null?void 0:d.links})},save(){var d;this.update({enabled:this.enabled,links:(d=this.value)==null?void 0:d.links})}}},h=Object.assign(p,{__name:"AddToBasket",setup(d){return{__sfc:!0}}});var g=function(){var l,o;var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"bg-gray-100 p-4 rounded-xl"},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"mb-2"},[t._v("Enabled "),e("input",{staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:t.enabled},on:{change:t.toggle}})]),t.enabled?t._e():e("div",{staticClass:"mt-2 text-gray-700 text-sm"},[t._v(" Add to Basket button will not be visible on the public website and products will not be parsed from the page copy. ")])]),t.enabled?e("div",[(l=t.value)!=null&&l.links&&t.value.links.length>0?e("div",[e("p",{staticClass:"text-sm mb-2"},[t._v(" The following products have been found in the page copy (updated on save): ")]),e("div",{staticClass:"bg-white rounded-xl atb-border overflow-hidden flex flex-wrap"},t._l((o=t.value)==null?void 0:o.links,function(s){var n,c,a,i,_;return e("div",{staticClass:"atb-link-item text-sm flex p-3 atb-border relative"},[e("div",{staticClass:"atb-image-container shrink-0 rounded-xl overflow-hidden mr-4"},[e("img",{staticClass:"atb-image",attrs:{src:(n=s==null?void 0:s.image)==null?void 0:n.cdnUrl}})]),e("div",{staticClass:"atb-content grow min-w-0 flex flex-col"},[s.status==="fetching"?e("div",{staticClass:"text-gray-700 atb-f-13 bg-gray-300 rounded-md w-15 mb-1"},[t._v("   ")]):e("h4",{staticClass:"atb-title truncate font-semibold"},[e("span",{staticClass:"truncate"},[t._v(t._s(s.status==="fetching"?"...":(s==null?void 0:s.title)||"No title found"))])]),s.status==="fetching"?e("div",{staticClass:"text-gray-700 atb-f-13 bg-gray-300 rounded-md w-10"},[t._v("   ")]):e("div",{staticClass:"text-gray-700 atb-f-13"},[t._v(" "+t._s(s==null?void 0:s.currencySymbol)+t._s(((c=s==null?void 0:s.price)==null?void 0:c.toFixed(2))||"No price found")+" ")]),e("div",{staticClass:"flex grow text-gray-700 items-end"},[e("div",{staticClass:"flex grow"},[e("img",{staticClass:"atb-favicon mr-2",attrs:{src:(a=s==null?void 0:s.retailer)==null?void 0:a.faviconUrl}}),e("div",{staticClass:"atb-f-12 flex flex-col justify-center"},[e("p",[t._v(" "+t._s((_=(i=s==null?void 0:s.retailer)==null?void 0:i.tld)==null?void 0:_.replace("www.",""))+" ")]),s.status==="fetching"?e("div",{staticClass:"atb-adding mt-1"},[t._v(" ADDING ")]):t._e()])]),e("a",{staticClass:"atb-button bg-gray-300 rounded-full px-3 py-1 text-blue font-semibold",attrs:{href:s==null?void 0:s.url,target:"_blank"}},[t._v("Visit")])])])])}),0)]):e("div",[e("p",{staticClass:"text-sm mb-2"},[t._v(" No products added. Products will be added when the page is saved. ")])])]):t._e()])},m=[],C=b(h,g,m,!1,null,"d9619151",null,null);const y=C.exports;Statamic.$components.register("add_to_basket-fieldtype",y);
