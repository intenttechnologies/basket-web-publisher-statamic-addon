function f(s,e,a,v,i,t,c,l){var d=typeof s=="function"?s.options:s;e&&(d.render=e,d.staticRenderFns=a,d._compiled=!0),v&&(d.functional=!0),t&&(d._scopeId="data-v-"+t);var o;if(c?(o=function(r){r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!r&&typeof __VUE_SSR_CONTEXT__<"u"&&(r=__VUE_SSR_CONTEXT__),i&&i.call(this,r),r&&r._registeredComponents&&r._registeredComponents.add(c)},d._ssrRegister=o):i&&(o=l?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),o)if(d.functional){d._injectStyles=o;var _=d.render;d.render=function(u,b){return o.call(b),_(u,b)}}else{var n=d.beforeCreate;d.beforeCreate=n?[].concat(n,o):[o]}return{exports:s,options:d}}const p={props:["value"],mixins:[Fieldtype],data(){var s;return{enabled:!!((s=this.value)!=null&&s.enabled)}},mounted(){var s;this.update({enabled:this.enabled,links:((s=this.value)==null?void 0:s.links)||[]})},methods:{toggle(){var s;this.enabled=!this.enabled,this.update({enabled:this.enabled,links:(s=this.value)==null?void 0:s.links})},save(){var s;this.update({enabled:this.enabled,links:(s=this.value)==null?void 0:s.links})}}};var g=function(){var v,i;var e=this,a=e._self._c;return a("div",{staticClass:"bg-gray-100 p-4 rounded-xl"},[a("div",{staticClass:"mb-4"},[a("label",{staticClass:"mb-2"},[e._v("Enabled "),a("input",{staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:e.enabled},on:{change:e.toggle}})]),e.enabled?e._e():a("div",{staticClass:"mt-2 text-gray-700 text-sm"},[e._v(" Add to Basket button will not be visible on the public website and products will not be parsed from the page copy. ")])]),e.enabled?a("div",[(v=e.value)!=null&&v.links&&e.value.links.length>0?a("div",[a("p",{staticClass:"text-sm mb-2"},[e._v(" The following products have been found in the page copy (updated on save): ")]),a("div",{staticClass:"bg-white rounded-xl atb-border overflow-hidden flex flex-wrap"},e._l((i=e.value)==null?void 0:i.links,function(t){var c,l,d,o,_,n,r,u;return a("div",{staticClass:"atb-link-item text-sm flex p-3 atb-border relative"},[a("div",{staticClass:"atb-image-container shrink-0 rounded-xl overflow-hidden mr-4"},[a("img",{staticClass:"atb-image",attrs:{src:((c=t==null?void 0:t.image)==null?void 0:c.retailerUrl)||((l=t==null?void 0:t.image)==null?void 0:l.cdnUrl)}})]),a("div",{staticClass:"atb-content grow min-w-0 flex flex-col"},[(t==null?void 0:t.status)==="fetching"?a("div",{staticClass:"text-gray-700 atb-f-13 bg-gray-300 rounded-md w-15 mb-1"},[e._v("   ")]):a("h4",{staticClass:"atb-title truncate font-semibold"},[a("span",{staticClass:"truncate"},[e._v(e._s((t==null?void 0:t.status)==="fetching"?"...":(t==null?void 0:t.title)||"No title found"))])]),(t==null?void 0:t.status)==="fetching"?a("div",{staticClass:"text-gray-700 atb-f-13 bg-gray-300 rounded-md w-10"},[e._v("   ")]):(t==null?void 0:t.type)==="non_retail"?a("div",{staticClass:"text-gray-700 atb-f-13"},[e._v("   ")]):((o=(d=t==null?void 0:t.availability)==null?void 0:d.current)==null?void 0:o.status)==="soldOut"?a("div",{staticClass:"text-gray-700 atb-f-13"},[e._v(" Sold out ")]):t!=null&&t.price?a("div",{staticClass:"text-gray-700 atb-f-13"},[e._v(" "+e._s(t==null?void 0:t.currencySymbol)+e._s((_=t==null?void 0:t.price)==null?void 0:_.toFixed(2))+" ")]):a("div",{staticClass:"text-gray-700 atb-f-13"},[e._v(" No price found ")]),a("div",{staticClass:"flex grow text-gray-700 items-end"},[a("div",{staticClass:"flex grow"},[a("img",{staticClass:"atb-favicon mr-2",attrs:{src:(n=t==null?void 0:t.retailer)==null?void 0:n.faviconUrl}}),a("div",{staticClass:"atb-f-12 flex flex-col justify-center"},[a("p",[e._v(" "+e._s((u=(r=t==null?void 0:t.retailer)==null?void 0:r.tld)==null?void 0:u.replace("www.",""))+" ")]),t.status==="fetching"?a("div",{staticClass:"atb-adding mt-1"},[e._v(" ADDING ")]):t.type==="non_retail"?a("div",{staticClass:"atb-adding mt-1"},[e._v(" WEBPAGE ")]):e._e()])]),a("a",{staticClass:"atb-button bg-gray-300 rounded-full px-3 py-1 text-blue font-semibold",attrs:{href:t==null?void 0:t.url,target:"_blank"}},[e._v("Visit")])])])])}),0)]):a("div",[a("p",{staticClass:"text-sm mb-2"},[e._v(" No products added. Products will be added when the page is saved. ")])])]):e._e()])},h=[],m=f(p,g,h,!1,null,"ad3a6d74",null,null);const C=m.exports;Statamic.$components.register("add_to_basket-fieldtype",C);
